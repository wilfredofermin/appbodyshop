/*!
 * DK Notus Tour JavaScript Library v1.0
 * https://github.com/DKNotusIT/DKNotus-Tour/
 *
 * Copyright DK Notus and other contributors
 * Released under the MIT license
 * https://github.com/DKNotusIT/DKNotus-Tour/blob/master/LICENSE
 *
 * Date: 2016-04-30
 */

var Tour=function(){function t(t){return"undefined"==typeof T[t][i[n].language]?T[t].en:T[t][i[n].language]}function e(e){if(n=e,$(".tourStep, .tourBg").remove(),i[e]){$("body").append(['<div class="tourStep popover" step="'+e+'">','<div class="arrow"></div>','<div class="panel-default">',i[e].close?'<button class="tourClose close pull-right">&times;&nbsp;</button>':"",'<div class="panel-body">',i[e].content,"</div>",'<div class="panel-footer">','<div class="pull-right">','<div class="tourPrev btn btn-default btn-sm">'+t("Previous")+"</div> ",'<div class="tourNext btn btn-primary btn-sm">'+t("Next")+"</div>","</div>","<h6>"+t("step")+" "+(e+1)+" / "+i.length+"</h6>","</div>","</div>","</div>"].join(""));var o=$(".tourStep").addClass(i[e].position).css({minWidth:250}),s=0,r=0;if(i[e].element&&i[e].element.length){var a=1e6,l=1e6,u=0,c=0;switch(i[e].element.each(function(t,e){var o=$(e).offset();a=Math.min(a,o.left),l=Math.min(l,o.top),u=Math.max(u,o.left+parseInt($(e).css("border-left-width"))+parseInt($(e).css("padding-left"))+$(e).width()+parseInt($(e).css("padding-right"))+parseInt($(e).css("border-right-width"))),c=Math.max(c,o.top+parseInt($(e).css("border-top-width"))+parseInt($(e).css("padding-top"))+$(e).height()+parseInt($(e).css("padding-bottom"))+parseInt($(e).css("border-bottom-width")))}),i[e].position){case"top":r=l-o.height(),s=(a+u>>1)-(o.width()>>1);break;case"right":r=(l+c>>1)-(o.height()>>1),s=u;break;case"left":r=(l+c>>1)-(o.height()>>1),s=a-o.width();break;case"bottom":r=c,s=(a+u>>1)-(o.width()>>1)}}if(o.css({position:"absolute",left:s,top:r}).show(),i[e].spotlight){var h=i[e].padding;$("body").append(Array(5).join('<div class="tourBg"></div>'));var d=[{bottom:"auto",height:l-h},{top:c+h,height:$(document).height()-c-h},{right:"auto",bottom:"auto",top:l-h,width:a-h,height:2*h+c-l},{left:u+h,bottom:"auto",top:l-h,height:2*h+c-l}];$(".tourBg").css({position:"absolute",zIndex:1e3,top:0,bottom:0,right:0,left:0,background:"#000",opacity:.3}).each(function(t,e){$(e).css(d[t])})}if(i[e].scroll){var p=(Math.min(r,l)+Math.max(r+o.height(),c)>>1)-($(window).height()>>1),g=(Math.min(s,a)+Math.max(s+o.width(),u)>>1)-($(window).width()>>1);$("html, body").animate({scrollTop:Math.max(0,Math.min(r,l,p)),scrollLeft:Math.max(0,Math.min(s,a,g))})}e||$(".tourPrev").remove(),e>i.length-2&&$(".tourNext").text(t("Finish")),$(".tourNext").click(Tour.next),$(".tourPrev").click(Tour.prev),$(".tourClose").click(Tour.close)}}var o,n,i=[];return T={step:{pl:"krok",en:"step",be:"крок",ca:"pas",cs:"krok",da:"trin",de:"Schritt",el:"βήμα",es:"paso",et:"samm",fi:"vaihe",fr:"étape",hu:"lépés",it:"passo",lt:"žingsnis",lv:"solis",mk:"чекор",nl:"stap",no:"trinn",pt:"passo",ru:"шаг",sk:"krok",sl:"korak",sq:"hapi",sv:"steg",tr:"adım",uk:"крок"},Next:{pl:"Następny",en:"Next",be:"Далей",ca:"Següent",cs:"Další",da:"Næste",de:"Weiter",el:"Την επόμενη",es:"Siguiente",et:"Järgmine",fi:"Seuraava",fr:"Prochaine",hu:"Következő",it:"Accanto",lt:"Kitas",lv:"Nākamā",mk:"Следна",nl:"Volgende",no:"Neste",pt:"Próximo",ru:"Далее",sk:"Ďalej",sl:"Naprej",sq:"Tjetër",sv:"Nästa",tr:"Gelecek",uk:"Далі"},Previous:{pl:"Poprzedni",en:"Previous",be:"Папярэдні",ca:"Anteriors",cs:"Předchozí",da:"Tidligere",de:"Vorherige",el:"Προηγούμενο",es:"Anterior",et:"Eelmine",fi:"Edellinen",fr:"Précédente",hu:"Előző",it:"Precedente",lt:"Ankstesnis",lv:"Iepriekšējā",mk:"Претходна",nl:"Vorige",no:"Tidligere",pt:"Anterior",ru:"Предыдущий",sk:"Predchádzajúce",sl:"Prejšnji",sq:"E mëparshme",sv:"Föregående",tr:"Önceki",uk:"Попередній"},Finish:{pl:"Zakończ",en:"Finish",be:"Аздабленне",ca:"Acabat",cs:"Dokončit",da:"Finish",de:"Finish",el:"Τελειώνει",es:"Acabado",et:"Lõpeta",fi:"Loppuun",fr:"Finition",hu:"Befejezés",it:"Finitura",lt:"Apdaila",lv:"Apdare",mk:"Заврши",nl:"Afwerking",no:"Ferdig",pt:"Acabamento",ru:"Отделка",sk:"Povrch",sl:"Zaključek",sq:"Finish",sv:"Avsluta",tr:"Bitir",uk:"Оздоблення"}},$(window).on("resize",function(){Tour.onresize&&Tour.onresize()}),{run:function(t,s){try{i=[],n=0,o={close:!0,content:"",language:"en",padding:5,position:"right",scroll:!0,spotlight:!0};for(var r in s)o[r]=s[r];$(t).each(function(t,e){for(var n in o)"undefined"==typeof e[n]&&(e[n]=o[n]);e.element&&e.element.length&&i.push(e)}),e(n),Tour.onstart&&Tour.onstart()}catch(a){}},next:function(){e(n+1),n<i.length?Tour.onstep&&Tour.onstep(i[n]):n==i.length&&Tour.onfinish&&Tour.onfinish()},prev:function(){e(n-1),n>=0&&Tour.onstep&&Tour.onstep(i[n])},current:function(){return n},close:function(){e(-1),Tour.onclose&&Tour.onclose()},onstart:null,onfinish:null,onclose:null,onstep:null,onresize:function(){var t=n-1;e(-1),n=t,setTimeout(function(){Tour.next()},20)}}}();
